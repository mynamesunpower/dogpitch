<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Ajax 계산기 JSON</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script>
		$(function () {
			$('#frm').submit(function () {
				$.ajax({
					url : './jsp/calc-action-json.jsp',
					type : 'get',
					data : {
						'op1' : $('#op1').val(),
						'op2' : $('#op2').val()
					},
					dataType : 'json',
					success : function (data) {
						$('#result').text(data.op1 + " + " + data.op2 + " = " + data.result);
					},
					error : function (err) {
						console.log(err);
					}
				});

				return false; // submit(전송) 안되게
			});
		});
	</script>
</head>
<body>

	<form id='frm'  action="./jsp/calc-action.jsp" method="get">
	<input name="op1" id="op1" size="3">
	<select name="opr" id="opr" >
		<option>+</option>
		<option>-</option>
		<option>*</option>
		<option>/</option>
		<option>%</option>
	</select>
	<input name="op2" id="op2" size="3">
	<input type="submit" value=" = ">
	</form>
	<fieldset>
		<legend>실행결과</legend>
		<div id="result"></div>
	</fieldset>

</body>
</html>